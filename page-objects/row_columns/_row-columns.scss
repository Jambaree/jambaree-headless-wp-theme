$gutter: 2%;

.grid {
  &__row {
    display: flex;
    flex-wrap: wrap;
  }

  &__column {
    min-height: 100px;
    width: 100%;
  }
}

@for $i from 2 through 4 {
  .grow-#{$i} {
    flex-grow: $i !important;
  }
}




// Two columns / Four Columns / Eight Columns
@media screen and (min-width: 800px) {
  .grid {
    &__column {
      &:nth-last-child(2):first-child,
      &:nth-last-child(2):first-child ~ .grid__column,
      &:nth-last-child(4):first-child,
      &:nth-last-child(4):first-child ~ .grid__column,
      &:nth-last-child(8):first-child,
      &:nth-last-child(8):first-child ~ .grid__column {
        flex: 1;
      }

      margin-right: $gutter;

      &:last-child {
        margin-right: 0;
      }
    }
  }
}

// Three columns
@media screen and (min-width: 1000px) {
  .grid {
    &__column {
      &:nth-last-child(3):first-child,
      &:nth-last-child(3):first-child ~ .grid__column {
        flex: 1;
      }

      margin-right: $gutter;

      &:last-child {
        margin-right: 0;
      }
    }
  }
}

// Four columns
@media screen and (min-width: 1100px) {
  .grid {
    &__column {
      &:nth-last-child(4):first-child,
      &:nth-last-child(4):first-child ~ .grid__column {
        flex: 1;
      }

      margin-right: $gutter;

      &:last-child {
        margin-right: 0;
      }
    }
  }
}

// Five columns
@media screen and (min-width: 600px) {
  .grid {
    &__column {
      &:nth-last-child(5):first-child,
      &:nth-last-child(5):first-child ~ .grid__column {
        flex: 1;
      }

      margin-right: $gutter;

      &:last-child {
        margin-right: 0;
      }
    }
  }
}

// Six columns
@media screen and (min-width: 600px) {
  .grid {
    &__column {
      &:nth-last-child(6):first-child,
      &:nth-last-child(6):first-child ~ .grid__column {
        flex: 1;
      }

      margin-right: $gutter;

      &:last-child {
        margin-right: 0;
      }
    }
  }
}

// Seven columns
@media screen and (min-width: 600px) {
  .grid {
    &__column {
      &:nth-last-child(7):first-child,
      &:nth-last-child(7):first-child ~ .grid__column {
        flex: 1;
      }

      margin-right: $gutter;

      &:last-child {
        margin-right: 0;
      }
    }
  }
}

// Eight columns
@media screen and (min-width: 600px) {
  .grid {
    &__column {
      &:nth-last-child(8):first-child,
      &:nth-last-child(8):first-child ~ .grid__column {
        flex: 1;
      }

      margin-right: $gutter;

      &:last-child {
        margin-right: 0;
      }
    }
  }
}



//
// EQCSS
// // Two columns / Four Columns / Eight Columns
// @element '.grid__row' and (min-width: 600px) {
//   .grid {
//     &__column {
//       &:nth-last-child(2):first-child,
//       &:nth-last-child(2):first-child ~ .grid__column,
//       &:nth-last-child(4):first-child,
//       &:nth-last-child(4):first-child ~ .grid__column,
//       &:nth-last-child(8):first-child,
//       &:nth-last-child(8):first-child ~ .grid__column {
//         flex: 1;
//       }
//
//       margin-right: $gutter;
//
//       &:last-child {
//         margin-right: 0;
//       }
//     }
//   }
// }
//
// // Three columns
// @element '.grid__row' and (min-width: 700px) {
//   .grid {
//     &__column {
//       &:nth-last-child(3):first-child,
//       &:nth-last-child(3):first-child ~ .grid__column {
//         flex: 1;
//       }
//
//       margin-right: $gutter;
//
//       &:last-child {
//         margin-right: 0;
//       }
//     }
//   }
// }
//
// // Four columns
// @element '.grid__row' and (min-width: 900px) {
//   .grid {
//     &__column {
//       &:nth-last-child(4):first-child,
//       &:nth-last-child(4):first-child ~ .grid__column {
//         flex: 1;
//       }
//
//       margin-right: $gutter;
//
//       &:last-child {
//         margin-right: 0;
//       }
//     }
//   }
// }
//
// // Five columns
// @element '.grid__row' and (min-width: 600px) {
//   .grid {
//     &__column {
//       &:nth-last-child(5):first-child,
//       &:nth-last-child(5):first-child ~ .grid__column {
//         flex: 1;
//       }
//
//       margin-right: $gutter;
//
//       &:last-child {
//         margin-right: 0;
//       }
//     }
//   }
// }
//
// // Six columns
// @element '.grid__row' and (min-width: 600px) {
//   .grid {
//     &__column {
//       &:nth-last-child(6):first-child,
//       &:nth-last-child(6):first-child ~ .grid__column {
//         flex: 1;
//       }
//
//       margin-right: $gutter;
//
//       &:last-child {
//         margin-right: 0;
//       }
//     }
//   }
// }
//
// // Seven columns
// @element '.grid__row' and (min-width: 600px) {
//   .grid {
//     &__column {
//       &:nth-last-child(7):first-child,
//       &:nth-last-child(7):first-child ~ .grid__column {
//         flex: 1;
//       }
//
//       margin-right: $gutter;
//
//       &:last-child {
//         margin-right: 0;
//       }
//     }
//   }
// }
//
// // Eight columns
// @element '.grid__row' and (min-width: 600px) {
//   .grid {
//     &__column {
//       &:nth-last-child(8):first-child,
//       &:nth-last-child(8):first-child ~ .grid__column {
//         flex: 1;
//       }
//
//       margin-right: $gutter;
//
//       &:last-child {
//         margin-right: 0;
//       }
//     }
//   }
// }
